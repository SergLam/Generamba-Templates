{% include 'header' %}

#import "{{ prefix }}{{ module_info.name }}Assembly.h"

#import "{{ prefix }}{{ module_info.name }}ViewController.h"
#import "{{ prefix }}{{ module_info.name }}Interactor.h"
#import "{{ prefix }}{{ module_info.name }}Presenter.h"
#import "{{ prefix }}{{ module_info.name }}Router.h"

@implementation {{ prefix }}{{ module_info.name }}Assembly

+ (UIViewController *)createModule:(AGSViperModuleConfigureBlock)configure {

    {{ prefix }}{{ module_info.name }}ViewController *view = [[{{ prefix }}{{ module_info.name }}ViewController alloc] init];
    {{ prefix }}{{ module_info.name }}Interactor *interactor = [[{{ prefix }}{{ module_info.name }}Interactor alloc] init];
    {{ prefix }}{{ module_info.name }}Presenter *presenter = [[{{ prefix }}{{ module_info.name }}Presenter alloc] init];
    {{ prefix }}{{ module_info.name }}Router *router = [[{{ prefix }}{{ module_info.name }}Router alloc] init];

    presenter.view = view;
    presenter.router = router;
    presenter.interactor = interactor;

    interactor.output = presenter;

    router.viewController = view;

    view.output = presenter;

    if (configure) {
        configure(presenter);
    }
    return view;
}

@end
