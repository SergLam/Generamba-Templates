{% include 'header' %}

@testable
import {{ custom_parameters.project_name }}
import XCTest

// MARK: - {{ prefix }}{{ module_info.name }}PresenterTest

class {{ prefix }}{{ module_info.name }}PresenterTests: XCTestCase {

    let view = MockViewController()
    let presenter = {{ prefix }}{{ module_info.name }}Presenter()

    override func setUp() {
        super.setUp()
        
        presenter.view = view
    }

    override func tearDown() {
        // Put teardown code here. This method is called after the invocation of each test method in the class.
        super.tearDown()
    }

    func testThatSetupInitialStateWillBeCalled() {
        
        // given
        
        view.setupInitialStateDidCall = false
        
        // when
        
        presenter.didTriggerViewReadyEvent()
        
        // then
        
        XCTAssertTrue(view.setupInitialStateDidCall)
    }

    // MARK: - MockViewController

    class MockViewController: {{ prefix }}{{ module_info.name }}ViewInput {

        var setupInitialStateDidCall = false
        
        func setupInitialState() {

            setupInitialStateDidCall = true
        }
    }
}
